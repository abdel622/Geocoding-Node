<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Geocoding</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400&family=Oswald:wght@700&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="static/stylesheets/style.css">
</head>

<body>
  <div class="container text-center main-section">
    <h1 class="display-4 main-heading">Geocoding with Node.js</h1>

    <% if(typeof alert !='undefined' ) { %>
      <% alert.forEach(function(error) { %>
        <div class="alert alert-warning alert-dismissible fade show" role="alert">
          <%= error.msg %>
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
              <span aria-hidden="true">×</span>
            </button>
        </div>
        <% }) %>
          <% } %>

            <form action="/" class="text-center" method="POST">
              <div class="form-group m-3">
                <p class="lead">Geocoding with Node.js</p>
                <input class="form-control form-control-lg input-address" name='exp' id='exp' type="text">
                <small id="passwordHelpBlock" class="form-text text-muted">
                  Enter your address
                </small>
              </div>
              <button type="submit" class="btn btn-custom-color-primary  btn-huge btn-sm">Geocode!</button>
            </form>



  </div>

  <div class="by-auth"><span>By Abdel</span></div>


  <% if (typeof coor !='undefined' ) { %>
    <p class="h-1 text-center my-5">" <%= coor.display_name %> "</p>
    <div class="container m-5">
      <div class="row text-center">
        <div class="col-sm-6">
          <table class="table">
            <thead class="thead-custom-dark">
              <tr>
                <th scope="col">Pays(country)</th>
                <th scope="col">Région(state)</th>
                <th scope="col">Ville(city)</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><%=coor.address.country%></td>
                <td><% if (typeof coor.address.region !='undefined' ) { %><%=coor.address.region%><% } %><% if (typeof coor.address.state !='undefined' ) { %> <%=coor.address.state %><% } %></td>
                <td><% if (typeof coor.address.city !='undefined' ) { %><%=coor.address.city%><% } %><% if (typeof coor.address.town !='undefined' ) { %> <%=coor.address.town %><% } %></td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="col-sm-6">
          <table class="table">
            <thead class="thead-custom-dark">
              <tr>
                <th scope="col">Latitude</th>
                <th scope="col">Longitude</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><%= coor.lat %></td>
                <td><%= coor.lon %></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

    </div>
    <% } %>
      <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
        crossorigin="anonymous"></script>

      <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
        crossorigin="anonymous"></script>
</body>

</html>